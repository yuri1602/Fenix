import sqlite3

# Connect to database
conn = sqlite3.connect('school_inventory.db')
cursor = conn.cursor()

# Delete ALL existing books
cursor.execute('DELETE FROM books')
print("Изтрити всички стари учебници")

# Reset the auto-increment counter
cursor.execute('DELETE FROM sqlite_sequence WHERE name="books"')

# New books list - organized by class and type
books = [
    # === 1 КЛАС - УЧЕБНИЦИ ===
    ("Изобразително изкуство", "1", "Анубис", "Учебник", 5, "1 - Рози"),
    ("Читанка", "1", "Анубис", "Учебник", 3, "1 - Рози"),
    ("Буквар", "1", "Анубис", "Учебник", 3, "1 - Рози"),
    ("Математика", "1", "Анубис", "Учебник", 3, "1 - Рози"),
    ("Музика", "1", "Анубис", "Учебник", 6, "1 - Рози / 1 - Деси"),
    ("Технологии и Предприемачество", "1", "Анубис", "Учебник", 4, "1 - Рози"),
    ("Родинознание", "1", "Анубис", "Учебник", 3, "1 - Рози"),
    ("Час на класа", "1", "Анубис", "Учебник", 2, ""),
    ("Книги за Учителя (Комплект)", "1", "Анубис", "Учебник", 1, "1 - Рози"),
    
    # === 1 КЛАС - УЧЕБНИ ТЕТРАДКИ ===
    ("Математика N2", "1", "Анубис", "Учебна тетрадка", 1, ""),
    ("Писане N1", "1", "Анубис", "Учебна тетрадка", 2, "1 - Рози"),
    ("Писане N2", "1", "Анубис", "Учебна тетрадка", 2, "1 - Рози"),
    ("Писане N3", "1", "Анубис", "Учебна тетрадка", 2, "1 - Рози"),
    ("Читанка", "1", "Анубис", "Учебна тетрадка", 2, "1 - Рози"),
    ("Родинознание", "1", "Анубис", "Учебна тетрадка", 2, "1 - Рози"),
    ("МАТ N1", "1", "Анубис", "Учебна тетрадка", 2, "1 - Рози"),
    ("МАТ N2", "1", "Анубис", "Учебна тетрадка", 2, "1 - Рози"),
    ("Албуми", "1", "Анубис", "Учебна тетрадка", 2, ""),
    ("Музика", "1", "Анубис", "Учебна тетрадка", 0, ""),
    
    # === 1 КЛАС - СБОРНИЦИ ===
    ("БЕЛ I част", "1", "Анубис", "Сборник", 6, ""),
    ("БЕЛ II част", "1", "Анубис", "Сборник", 3, "1 - Рози"),
    ("МАТ I част", "1", "Анубис", "Сборник", 3, "1 - Рози"),
    ("МАТ II част", "1", "Анубис", "Сборник", 3, "1 - Рози"),
    
    # === 2 КЛАС - УЧЕБНИЦИ ===
    ("Читанка", "2", "Анубис", "Учебник", 7, "2 ученици + 1 - Рози"),
    ("Околен Свят", "2", "Анубис", "Учебник", 7, "2 ученици"),
    ("БЕЛ", "2", "Анубис", "Учебник", 4, "2 ученици + 1 - Рози"),
    ("МАТ", "2", "Анубис", "Учебник", 3, "2 ученици + 1 - Рози"),
    ("ТП", "2", "Анубис", "Учебник", 8, "2 ученици + 1 - Рози"),
    ("ИИ", "2", "Анубис", "Учебник", 2, "2 ученици + 1 - Рози"),
    ("Музика", "2", "Анубис", "Учебник", 2, "2 ученици + 1 - Деси"),
    ("ЧК", "2", "Анубис", "Учебник", 1, ""),
    ("Родинознание", "2", "Анубис", "Учебник", 0, "2 ученици"),
    ("Книги за учителя (Комплект)", "2", "Анубис", "Учебник", 0, "1 - Рози"),
    
    # === 2 КЛАС - УЧЕБНИ ТЕТРАДКИ ===
    ("БЕЛ I", "2", "Анубис", "Учебна тетрадка", 1, ""),
    ("БЕЛ II", "2", "Анубис", "Учебна тетрадка", 2, ""),
    ("Читанка", "2", "Анубис", "Учебна тетрадка", 1, ""),
    ("МАТ I", "2", "Анубис", "Учебна тетрадка", 1, ""),
    ("Родинознание", "2", "Анубис", "Учебна тетрадка", 1, ""),
    ("Албуми", "2", "Анубис", "Учебна тетрадка", 6, ""),
    ("Музика", "2", "Анубис", "Учебна тетрадка", 0, "1 - Деси"),
    
    # === 2 КЛАС - СБОРНИЦИ ===
    ("БЕЛ", "2", "Анубис", "Сборник", 2, ""),
    ("МАТ I", "2", "Анубис", "Сборник", 2, ""),
    ("МАТ II", "2", "Анубис", "Сборник", 3, ""),
    ("МАТ ИУЧ", "2", "Анубис", "Сборник", 1, ""),
    ("БЕЛ ИУЧ", "2", "Анубис", "Сборник", 1, ""),
    
    # === 3 КЛАС - УЧЕБНИЦИ ===
    ("МАТ", "3", "Анубис", "Учебник", 4, "4 ученици + 1 - Надя"),
    ("ЧО", "3", "Анубис", "Учебник", 4, "4 ученици + 1 - Надя"),
    ("БЕЛ", "3", "Анубис", "Учебник", 3, "4 ученици + 1 - Надя"),
    ("Читанка", "3", "Анубис", "Учебник", 4, "4 ученици + 1 - Надя"),
    ("КМ", "3", "Анубис", "Учебник", 2, "4 ученици + 1 - Симона / 1 - Надя"),
    ("ИИ", "3", "Анубис", "Учебник", 1, "1 - Надя"),
    ("ЧП", "3", "Анубис", "Учебник", 3, "4 ученици + 1 - Надя"),
    ("ЧК", "3", "Анубис", "Учебник", 2, ""),
    ("Книги за Учителя", "3", "Анубис", "Учебник", 0, "1 - Надя"),
    ("Музика", "3", "Анубис", "Учебник", 0, "1 - Деси"),
    ("ТП", "3", "Анубис", "Учебник", 0, "3 ученици + 1 - Надя"),
    
    # === 3 КЛАС - УЧЕБНИ ТЕТРАДКИ ===
    ("ЛИТ", "3", "Анубис", "Учебна тетрадка", 2, ""),
    ("ЧП", "3", "Анубис", "Учебна тетрадка", 0, "1 - Надя"),
    ("Музика", "3", "Анубис", "Учебна тетрадка", 1, ""),
    ("БЕЛ I", "3", "Анубис", "Учебна тетрадка", 0, "1 - Надя"),
    ("БЕЛ II", "3", "Анубис", "Учебна тетрадка", 0, "1 - Надя"),
    ("МАТ I", "3", "Анубис", "Учебна тетрадка", 1, "1 - Надя"),
    ("МАТ II", "3", "Анубис", "Учебна тетрадка", 2, "1 - Надя"),
    ("ЧО", "3", "Анубис", "Учебна тетрадка", 2, "1 - Надя"),
    ("ИКМ", "3", "Анубис", "Учебна тетрадка", 5, ""),
    ("Учебна тетрадка", "3", "Анубис", "Учебна тетрадка", 0, "1 - Надя"),
    
    # === 4 КЛАС - УЧЕБНИЦИ ===
    ("ИИ", "4", "Анубис", "Учебник", 5, "1 - Надя"),
    ("ЧО", "4", "Анубис", "Учебник", 7, "4 ученици + 1 - Надя"),
    ("ТП", "4", "Анубис", "Учебник", 5, "4 ученици + 1 - Надя"),
    ("Читанка", "4", "Анубис", "Учебник", 7, "4 ученици + 1 - Надя"),
    ("ЧП", "4", "Анубис", "Учебник", 7, "4 ученици + 1 - Надя"),
    ("БЕЛ", "4", "Анубис", "Учебник", 7, "4 ученици + 1 - Надя"),
    ("Музика", "4", "Анубис", "Учебник", 6, "1 - Деси"),
    ("МАТ", "4", "Анубис", "Учебник", 8, "4 ученици + 1 - Надя"),
    ("КМ", "4", "Анубис", "Учебник", 5, "4 ученици + 1 - Симона"),
    ("Книги за Учителя (Комплект)", "4", "Анубис", "Учебник", 2, "1 - Надя"),
    
    # === 4 КЛАС - УЧЕБНИ ТЕТРАДКИ ===
    ("Албуми", "4", "Анубис", "Учебна тетрадка", 6, ""),
    ("МАТ Номер 1", "4", "Анубис", "Учебна тетрадка", 5, "1 - Надя"),
    ("МАТ Номер 2", "4", "Анубис", "Учебна тетрадка", 5, "1 - Надя"),
    ("ЧО", "4", "Анубис", "Учебна тетрадка", 5, "1 - Надя"),
    ("ЧП", "4", "Анубис", "Учебна тетрадка", 4, "1 - Надя"),
    ("БЕЛ Номер 1", "4", "Анубис", "Учебна тетрадка", 5, "1 - Надя"),
    ("БЕЛ Номер 2", "4", "Анубис", "Учебна тетрадка", 4, "1 - Надя"),
    ("КМ (Нов Модел/Комплект)", "4", "Анубис", "Учебна тетрадка", 1, ""),
    ("Читанка тетрадка", "4", "Анубис", "Учебна тетрадка", 0, "1 - Надя"),
    
    # === 4 КЛАС - СБОРНИЦИ ===
    ("МАТ 1 част", "4", "Анубис", "Сборник", 2, "1 - Надя"),
    ("МАТ 2 част", "4", "Анубис", "Сборник", 8, ""),
    ("БЕЛ", "4", "Анубис", "Сборник", 3, ""),
    
    # === 5 КЛАС - УЧЕБНИЦИ ===
    ("МАТ I част", "5", "Анубис", "Учебник", 0, "5 ученици"),
    ("МАТ II част", "5", "Анубис", "Учебник", 1, "5 ученици"),
    ("Музика", "5", "Анубис", "Учебник", 2, ""),
    ("История", "5", "Анубис", "Учебник", 1, "7 ученици"),
    ("География", "5", "Анубис", "Учебник", 0, "7 ученици + 1 - Учител (Кабинет)"),
    ("ЛИТ", "5", "Анубис", "Учебник", 1, "7 ученици + 1 - Учител БЕЛ"),
    ("КМ", "5", "Анубис", "Учебник", 1, "6 ученици + 1 - Симона"),
    ("ИИ", "5", "Анубис", "Учебник", 0, "1 - Учител"),
    ("ЧП", "5", "Анубис", "Учебник", 1, "5 ученици + 1 - Учител по ЧП"),
    ("БЕЛ", "5", "Анубис", "Учебник", 0, "7 ученици + 1 - Учител БЕЛ"),
    ("ТП", "5", "Анубис", "Учебник", 0, "4 ученици"),
    ("МАТ Цяла", "5", "Анубис", "Учебник", 0, "1 ученик"),
    
    # === 5 КЛАС - УЧЕБНИ ТЕТРАДКИ ===
    ("МАТ Номер 2", "5", "Анубис", "Учебна тетрадка", 2, ""),
    ("ЧП", "5", "Анубис", "Учебна тетрадка", 1, ""),
    ("Атлас по История", "5", "Анубис", "Учебна тетрадка", 0, "7 ученици"),
    ("МАТ Номер 1", "5", "Анубис", "Учебна тетрадка", 2, ""),
    
    # === 5 КЛАС - СБОРНИЦИ ===
    ("КМ (Помагало)", "5", "Анубис", "Сборник", 4, ""),
    ("Работни листи БЕЛ (Нов модел)", "5", "Анубис", "Сборник", 3, "1 - Учител БЕЛ"),
    ("Работни листи ЛИТ (Нов модел)", "5", "Анубис", "Сборник", 1, "1 - Учител БЕЛ"),
    ("Работни листи БЕЛ (Стар модел)", "5", "Анубис", "Сборник", 1, ""),
    ("Работни листи ЛИТ (Стар модел)", "5", "Анубис", "Сборник", 1, ""),
    
    # === 6 КЛАС - УЧЕБНИЦИ ===
    ("ЧП", "6", "Анубис", "Учебник", 0, "5 ученици + 1 - Учирел по ЧП"),
    ("ИИ", "6", "Анубис", "Учебник", 5, "1 ученик"),
    ("Музика", "6", "Анубис", "Учебник", 3, "1 ученик"),
    ("История", "6", "Анубис", "Учебник", 0, "5 ученици"),
    ("География", "6", "Анубис", "Учебник", 0, "5 ученици"),
    ("МАТ I част", "6", "Анубис", "Учебник", 1, "4 ученици"),
    ("МАТ II част", "6", "Анубис", "Учебник", 1, "4 ученици"),
    ("ТП", "6", "Анубис", "Учебник", 2, "3 ученици"),
    ("КМ", "6", "Анубис", "Учебник", 0, "4 ученици + 1 - Симона"),
    ("БЕЛ", "6", "Анубис", "Учебник", 0, "4 ученици + 1 - Учител БЕЛ"),
    ("ЛИТ", "6", "Анубис", "Учебник", 0, "4 ученици + 1 - Учител БЕЛ"),
    ("МАТ Цяла", "6", "Анубис", "Учебник", 0, "1 ученик"),
    
    # === 6 КЛАС - УЧЕБНИ ТЕТРАДКИ ===
    ("ЧП", "6", "Анубис", "Учебна тетрадка", 1, ""),
    ("КМ", "6", "Анубис", "Учебна тетрадка", 1, ""),
    ("МАТ II", "6", "Анубис", "Учебна тетрадка", 1, ""),
    ("Атлас по История", "6", "Анубис", "Учебна тетрадка", 0, "4 ученици + 1 - Учител (Кабинет)"),
    ("История", "6", "Анубис", "Учебна тетрадка", 1, ""),
    ("География", "6", "Анубис", "Учебна тетрадка", 1, ""),
    ("МАТ Номер 1", "6", "Анубис", "Учебна тетрадка", 1, ""),
    
    # === 6 КЛАС - СБОРНИЦИ ===
    ("Работни листи ЛИТ (Нов Модел)", "6", "Анубис", "Сборник", 0, "1 - Учител БЕЛ"),
    ("Работни листи БЕЛ (Нов Модел)", "6", "Анубис", "Сборник", 0, "1 - Учител БЕЛ"),
    ("Работни листи ЛИТ (Стар Модел)", "6", "Анубис", "Сборник", 0, "1 - Учител БЕЛ"),
    
    # === 7 КЛАС - УЧЕБНИЦИ ===
    ("БЕЛ", "7", "Анубис", "Учебник", 2, "6 ученици + 1 - Учител БЕЛ"),
    ("Физика", "7", "Анубис", "Учебник", 1, "6 ученици + 1 - Учител (Кабинет)"),
    ("ИИ", "7", "Анубис", "Учебник", 3, ""),
    ("Музика", "7", "Анубис", "Учебник", 3, "1 - Деси"),
    ("КМ", "7", "Анубис", "Учебник", 5, "1 - Симона"),
    ("ЛИТ", "7", "Анубис", "Учебник", 0, "6 ученици + 1 - Учител БЕЛ"),
    ("География", "7", "Анубис", "Учебник", 1, "6 ученици"),
    ("История (Анубис клет)", "7", "Анубис", "Учебник", 0, "6 ученици"),
    ("МАТ Част 1", "7", "Анубис", "Учебник", 1, "4 ученици"),
    ("Химия", "7", "Анубис", "Учебник", 0, "6 ученици"),
    ("Биология", "7", "Анубис", "Учебник", 0, "6 ученици + 1 - Учител (Кабинет)"),
    ("ТП", "7", "Анубис", "Учебник", 0, "6 ученици"),
    ("МАТ Част 2", "7", "Анубис", "Учебник", 0, "4 ученици"),
    ("МАТ Цели", "7", "Анубис", "Учебник", 0, "2 ученици"),
    ("История (Булвест Клет)", "7", "Булвест", "Учебник", 2, ""),
    
    # === 7 КЛАС - УЧЕБНИ ТЕТРАДКИ ===
    ("Биология", "7", "Анубис", "Учебна тетрадка", 0, "+1 за учител (писана) + 1 - Учител (Кабинет)"),
    ("Физика", "7", "Анубис", "Учебна тетрадка", 2, ""),
    ("Атлас по История", "7", "Анубис", "Учебна тетрадка", 1, ""),
    ("Химия", "7", "Анубис", "Учебна тетрадка", 1, "Писана"),
    ("БЕЛ", "7", "Анубис", "Учебна тетрадка", 0, "1 - Учител БЕЛ"),
    ("МАТ II", "7", "Анубис", "Учебна тетрадка", 0, ""),
    ("ЛИТ", "7", "Анубис", "Учебна тетрадка", 0, "1 - Учител БЕЛ"),
    ("История", "7", "Анубис", "Учебна тетрадка", 1, "1 - Учител (Кабинет)"),
    ("География", "7", "Анубис", "Учебна тетрадка", 1, "1 - Учител (Кабинет)"),
    ("МАТ Номер 1", "7", "Анубис", "Учебна тетрадка", 1, ""),
    ("География Атлас", "7", "Анубис", "Учебна тетрадка", 0, "1 - Учител (Кабинет)"),
    
    # === 7 КЛАС - СБОРНИЦИ ===
    ("КМ", "7", "Анубис", "Сборник", 1, ""),
    
    # === АНГЛИЙСКИ ЕЗИК ===
    # 1 клас
    ("Учебник", "1", "Express Publishing", "Учебник", 2, ""),
    ("Ут", "1", "Express Publishing", "Учебна тетрадка", 2, ""),
    
    # 2 клас
    ("Activity Book", "2", "Express Publishing", "Учебна тетрадка", 1, ""),
    ("Pupil's Book", "2", "Express Publishing", "Учебник", 6, "2 деца"),
    ("Раздадени 2 Клас (Деца)", "2", "Express Publishing", "Учебна тетрадка", 0, "Pupil's Book - 2 бр"),
    ("Учбник 2 Клас Рози", "2", "Express Publishing", "Учебник", 0, ""),
    ("Theacher book 1 - Грациела", "2", "Express Publishing", "Учебник", 1, "Грациела"),
    
    # 3 клас
    ("Activity Book", "3", "Express Publishing", "Учебна тетрадка", 6, ""),
    ("Grammar Book", "3", "Express Publishing", "Учебна тетрадка", 1, ""),
    ("Pupil's Book", "3", "Express Publishing", "Учебник", 3, "4 деца"),
    ("Theacher book 1", "3", "Express Publishing", "Учебник", 1, "Грациела"),
    
    # 4 клас
    ("Pupil's Book", "4", "Express Publishing", "Учебник", 5, "4 деца"),
    ("Activity Book", "4", "Express Publishing", "Учебна тетрадка", 6, ""),
    ("Grammar Book", "4", "Express Publishing", "Учебна тетрадка", 1, ""),
    ("Teacher Book", "4", "Express Publishing", "Учебник", 1, "Грациела"),
    
    # 5 клас
    ("Motivator", "5", "Express Publishing", "Учебник", 1, ""),
    ("Work Book", "5", "Express Publishing", "Учебна тетрадка", 1, ""),
    ("Student Book", "5", "Express Publishing", "Учебник", 1, "6 деца"),
    ("Theacher book 1", "5", "Express Publishing", "Учебник", 1, "Грациела"),
    
    # 6 клас
    ("Work Book", "6", "Express Publishing", "Учебна тетрадка", 0, ""),
    ("Student Book", "6", "Express Publishing", "Учебник", 0, "5 деца"),
    ("Motivator", "6", "Express Publishing", "Учебник", 0, ""),
    ("Theacher book 1", "6", "Express Publishing", "Учебник", 1, "Грациела"),
    
    # 7 клас
    ("Work Book", "7", "Express Publishing", "Учебна тетрадка", 1, ""),
    ("Motivator", "7", "Express Publishing", "Учебник", 1, ""),
    ("Student Book", "7", "Express Publishing", "Учебник", 1, "6 деца"),
    ("Theacher book 1", "7", "Express Publishing", "Учебник", 1, "Грациела"),
]

# Insert new books: (subject, grade, publisher, type, quantity, notes)
for book in books:
    cursor.execute('''
        INSERT INTO books (subject, grade, publisher, type, quantity, notes)
        VALUES (?, ?, ?, ?, ?, ?)
    ''', book)

conn.commit()

# Show summary
cursor.execute('SELECT COUNT(*) FROM books')
total = cursor.fetchone()[0]
print(f"\n✅ Успешно добавени {total} учебника/тетрадки")

# Show books with zero quantity
cursor.execute('SELECT subject, grade, type, quantity FROM books WHERE quantity = 0')
zero_books = cursor.fetchall()
if zero_books:
    print(f"\n⚠️ Учебници/Тетрадки с 0 наличност ({len(zero_books)}):")
    for subject, grade, book_type, qty in zero_books:
        print(f"  - {grade} клас - {subject} ({book_type})")

# Show statistics by class
print("\n📊 Статистика по класове:")
cursor.execute('''
    SELECT grade, type, COUNT(*) as count, SUM(quantity) as total_qty
    FROM books
    GROUP BY grade, type
    ORDER BY CAST(grade AS INTEGER), type
''')
stats = cursor.fetchall()
for grade, book_type, count, total_qty in stats:
    print(f"  {grade} клас - {book_type}: {count} вида, общо {total_qty} бр")

conn.close()
print("\n✅ Базата данни с учебници е обновена!")
